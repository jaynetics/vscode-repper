# vscode-repper

This Visual Studio Code extension provides Ruby Regexp formatting via
[Repper](https://github.com/jaynetics/repper). It will be used
with files that have the “Ruby” syntax.

## Installation

Press `F1`, type `ext install` then search for `jaynetics.vscode-repper`.

### `repper` installation

Before using this plugin, you must ensure that `repper` is installed on your system:

```shell
gem install repper
```

## Settings

You can configure vscode-repper in your workspace or user settings. You can either

a) Open VS Code settings menu, select "Extensions" and scroll down to "Repper"

b) Manually adjust your settings via your `settings.json` file:

```js
{
  ...
  "repper.exe": "repper",  // can be an absolute path
  "repper.useBundler": false,
}
```

_Attention:_ Restart Visual Studio Code after you have made changes to the settings.

### Using RVM

If your setup instruments [RVM](http://rvm.io) to install Ruby version
you might receive errors indicating Repper can't be found. Because `repper`
might not be in your current PATH, you need to change the executable
to the RVM-wrapped one:

```js
"repper.exe": "/Users/You/.rvm/gems/ruby-2.3.6/wrappers/repper"
```

### Using `rbenv`

If your setup instruments [rbenv](https://github.com/rbenv/rbenv), you should
point the executable to the Repper shim generated by rbenv. This way the extension
will continue to work after you upgrade your Ruby:

```js
"repper.exe": "/Users/You/.rbenv/shims/repper"
```

## Develop

- Use Visual Studio Code to develop this extension
- Press `F5` to open a new window with the extension loaded
- Open a Ruby file or paste some Ruby code into the window
- Open the command palette by pressing (`Ctrl+Shift+P` or `Cmd+Shift+P` on Mac)
- Choose either "Format Document" for "Format Selection".
- Find output from the extension in the debug console.

## Testing

- Open the debug viewlet (`Ctrl+Shift+D` or `Cmd+Shift+D` on Mac) and from the launch configuration dropdown pick `Launch Tests`
- Press `F5` to run the tests in a new window with your extension loaded
- See the output of the test result in the debug console

## Credits

Based on [vscode-rufo](https://github.com/jnbt/vscode-rufo) by Jonas Thiel.
